# HR Performance Management - OVH Staging/Production Environment
#
# LOCATION: /deploy/.env.ovh.example (committed to repo as template)
# USAGE: Copy to /deploy/.env on OVH server and fill in real values
# WARNING: Never commit .env files with real credentials
#
# Repository: https://github.com/Autonom664/HR (private)
# Target Domain: hr-staging.dstchemicals.com

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# MongoDB credentials - USE STRONG PASSWORDS (min 32 chars recommended)
MONGO_ROOT_USERNAME=hrapp_prod
MONGO_ROOT_PASSWORD=REPLACE_WITH_STRONG_PASSWORD_MIN_32_CHARS

# Database name
DB_NAME=hr_performance

# =============================================================================
# URL CONFIGURATION FOR SAME-ORIGIN DEPLOYMENT
# =============================================================================
# RECOMMENDED: Same-origin deployment via nginx reverse proxy
# Leave REACT_APP_BACKEND_URL empty - frontend uses relative '/api' paths
# nginx proxies /api/* to the backend container
REACT_APP_BACKEND_URL=

# CORS allowed origins - MUST match your frontend domain exactly
# No wildcards allowed in production
CORS_ORIGINS=https://hr-staging.dstchemicals.com

# =============================================================================
# PORT CONFIGURATION
# These ports bind to 127.0.0.1 only - nginx proxies external traffic
# =============================================================================
BACKEND_PORT=8001
FRONTEND_PORT=3000

# =============================================================================
# AUTHENTICATION CONFIGURATION
# =============================================================================
# Auth mode: 'password' (default) or 'entra' (Microsoft Entra ID)
# Password mode: Users receive generated passwords via admin CSV export
# Entra mode: Microsoft Entra ID SSO (enable when organization is ready)
AUTH_MODE=password

# Session expiry - shorter for production security
SESSION_EXPIRY_HOURS=8

# =============================================================================
# COOKIE SECURITY (production settings)
# =============================================================================
# MUST be 'true' when using HTTPS
COOKIE_SECURE=true
COOKIE_SAMESITE=lax

# =============================================================================
# ENTRA SSO CONFIGURATION (scaffolded, enable when ready)
# =============================================================================
# To enable Microsoft Entra ID SSO:
# 1. Set AUTH_MODE=entra
# 2. Register app in Azure Portal > Microsoft Entra ID > App registrations
# 3. Set redirect URI to: https://hr-staging.dstchemicals.com/api/auth/entra/callback
# 4. Fill in the values below

ENTRA_TENANT_ID=
ENTRA_CLIENT_ID=
ENTRA_CLIENT_SECRET=
ENTRA_REDIRECT_URI=https://hr-staging.dstchemicals.com/api/auth/entra/callback
ENTRA_SCOPES=openid profile email
